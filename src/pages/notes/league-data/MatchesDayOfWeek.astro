---
import { Chart } from '../../../components';
import { Figure } from '../../../components/Figure';
import * as Plot from '@observablehq/plot';
import type { Match } from './types';
import { getMatches } from './util';

let matches: Array<Match> = getMatches();
---

<Figure caption="Figure 3. Day of week distribution of all games">
	<Chart
		options={{
			y: { grid: true, label: 'â†‘ matches' },
			x: { label: 'day', tickFormat: Plot.formatWeekday('en-US', 'short') },
			marks: [Plot.barY(matches, Plot.groupX({ y: 'count' }, { x: (d) => d.startDate.getDay() }))],
		}}
	/>
</Figure>
